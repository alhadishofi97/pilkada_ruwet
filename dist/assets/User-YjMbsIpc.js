import{r as o,j as r}from"./index-xFPQpCZ-.js";import{X as b}from"./index.es-BQ0Wd5Uh.js";import{M as k}from"./index-Bh8HhtFf.js";k.setAppElement("#root");const v=()=>{const d=localStorage.getItem("token"),[n,m]=o.useState([]),[w,i]=o.useState([]),[f,h]=o.useState(!0),[l,c]=o.useState(null),[s,C]=o.useState("");o.useState(!1),o.useState(!1),o.useState(null),o.useState(!1),o.useState(!1),o.useState("");const L=async()=>{try{const t=await(await fetch("http://192.168.18.168:8000/api/admin/pemilih",{withCredentials:!0,method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}})).json();t?(m(t.map(a=>({id:a.id,name:a.nama,telepon:a.no_telp,desa:a.desa,dusun:a.dusun,rt:a.rt,rw:a.rw,kelurahan:a.kelurahan,kecamatan:a.kecamatan,kabupaten:a.kabupaten,provinsi:a.provinsi,usia:a.usia,jenis_kelamin:a.jenis_kelamin,tps:a.tps}))),i(t)):c("Failed to fetch users")}catch{c("Error fetching data")}finally{h(!1)}};if(o.useEffect(()=>{L()},[]),o.useEffect(()=>{const e=n.filter(t=>{var a,p,u;return((a=t.name)==null?void 0:a.toLowerCase().includes(s.toLowerCase()))||((p=t.email)==null?void 0:p.toLowerCase().includes(s.toLowerCase()))||((u=t.current_team)==null?void 0:u.toLowerCase().includes(s.toLowerCase()))||typeof t.usia=="string"&&t.usia.toLowerCase().includes(s.toLowerCase())||typeof t.jenis_kelamin=="string"&&t.jenis_kelamin.toLowerCase().includes(s.toLowerCase())||typeof t.tps=="string"&&t.tps.toLowerCase().includes(s.toLowerCase())||typeof t.dusun=="string"&&t.dusun.toLowerCase().includes(s.toLowerCase())||typeof t.rt=="string"&&t.rt.toLowerCase().includes(s.toLowerCase())||typeof t.rw=="string"&&t.rw.toLowerCase().includes(s.toLowerCase())||typeof t.kecamatan=="string"&&t.kecamatan.toLowerCase().includes(s.toLowerCase())||typeof t.kabupaten=="string"&&t.kabupaten.toLowerCase().includes(s.toLowerCase())||typeof t.provinsi=="string"&&t.provinsi.toLowerCase().includes(s.toLowerCase())});i(e)},[s,n]),f)return r.jsx("div",{children:"Loading..."});if(l)return r.jsx("div",{children:l});const g=[{name:"ID",selector:e=>e.id,sortable:!0,width:"60px"},{name:"Nama",selector:e=>e.name,sortable:!0},{name:"No Telepon",selector:e=>e.telepon,sortable:!0,width:"150px"},{name:"Desa",selector:e=>e.desa,sortable:!0},{name:"Usia",selector:e=>e.usia,sortable:!0},{name:"Jenis Kelamin",wrap:!0,selector:e=>e.jenis_kelamin,sortable:!0},{name:"TPS",selector:e=>e.tps,sortable:!0},{name:"Dusun",selector:e=>e.dusun,sortable:!0,wrap:!0},{name:"RT",selector:e=>e.rt,sortable:!0},{name:"RW",selector:e=>e.rw,sortable:!0},{name:"Kecamatan",selector:e=>e.kecamatan,sortable:!0,wrap:!0},{name:"Kabupaten",selector:e=>e.kabupaten,sortable:!0},{name:"Provinsi",selector:e=>e.provinsi,sortable:!0,width:"150px"}];return r.jsxs("div",{children:[r.jsx("input",{type:"text",placeholder:"Cari",value:s,onChange:e=>C(e.target.value),style:{marginBottom:"20px",padding:"10px",width:"100%"}}),r.jsx("div",{style:{overflowX:"auto"}}),r.jsx(b,{title:"Data Pemilih",columns:g,data:w,pagination:!0,highlightOnHover:!0,pointerOnHover:!0})]})};export{v as default};
