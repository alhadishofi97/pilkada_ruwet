import{u as kt,d as At,e as Ot,f as Fe,h as Le,r as x,_ as T,i as Dt,k as F,l as le,j as y,m as V,o as Vt,n as jt,q as Ft,s as K,t as W,v as $e,w as Lt,x as A,c as _e,y as Ne,P as De,z as Be,A as $t,D as B,E as Ve,F as _t,H as Nt}from"./index-xFPQpCZ-.js";import{X as Bt}from"./index.es-BQ0Wd5Uh.js";import{I as Kt}from"./IconPencil-CDuvSLzG.js";import{C as Ke}from"./Checkbox-rsmNoEbg.js";function Ut({props:e,name:t}){return kt({props:e,name:t,defaultTheme:At,themeId:Ot})}function Ue(e){return Ut}function Xt(e){return Le("MuiSimpleTreeView",e)}Fe("MuiSimpleTreeView",["root"]);const zt=(e,t)=>{const n=x.useRef({}),[r,a]=x.useState(()=>{const c={};return e.forEach(o=>{o.models&&Object.entries(o.models).forEach(([u,l])=>{n.current[u]={isControlled:t[u]!==void 0,getDefaultValue:l.getDefaultValue},c[u]=l.getDefaultValue(t)})}),c});return Object.fromEntries(Object.entries(n.current).map(([c,o])=>{const u=t[c]??r[c];return[c,{value:u,setControlledValue:l=>{o.isControlled||a(s=>T({},s,{[c]:l}))}}]}))};class Jt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let a=this.events[t];a||(a={highPriority:new Map,regular:new Map},this.events[t]=a),r.isFirst?a.highPriority.set(n,!0):a.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const a=Array.from(r.highPriority.keys()),I=Array.from(r.regular.keys());for(let c=a.length-1;c>=0;c-=1){const o=a[c];r.highPriority.has(o)&&o.apply(this,n)}for(let c=0;c<I.length;c+=1){const o=I[c];r.regular.has(o)&&o.apply(this,n)}}once(t,n){const r=this;this.on(t,function a(...I){r.removeListener(t,a),n.apply(r,I)})}}const qt=e=>e.isPropagationStopped!==void 0,Xe=()=>{const[e]=x.useState(()=>new Jt),t=x.useCallback((...r)=>{const[a,I,c={}]=r;c.defaultMuiPrevented=!1,!(qt(c)&&c.isPropagationStopped())&&e.emit(a,I,c)},[e]),n=x.useCallback((r,a)=>(e.on(r,a),()=>{e.removeListener(r,a)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};Xe.params={};const ze=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};ze.params={};const Je=({params:e})=>{const t=Dt(e.id),n=x.useCallback((r,a)=>a??`${t}-${r}`,[t]);return{getRootProps:()=>({id:t}),instance:{getTreeItemIdAttribute:n}}};Je.params={id:!0};const Wt=[Xe,ze,Je],Gt=["slots","slotProps","apiRef","experimentalFeatures"],Qt=e=>{let{props:{slots:t,slotProps:n,apiRef:r,experimentalFeatures:a},plugins:I}=e,c=F(e.props,Gt);const o={};I.forEach(i=>{Object.assign(o,i.params)});const u={},l={};Object.keys(c).forEach(i=>{const d=c[i];o[i]?u[i]=d:l[i]=d});const s=I.reduce((i,d)=>d.getDefaultizedParams?d.getDefaultizedParams(i):i,u);return{apiRef:r,forwardedProps:l,pluginParams:s,slots:t??{},slotProps:n??{},experimentalFeatures:a??{}}},Yt=({plugins:e,instance:t,publicAPI:n,rootRef:r})=>({runItemPlugins:o=>{let u=null,l=null;const s=[],i={};e.forEach(g=>{if(!g.itemPlugin)return;const m=g.itemPlugin({props:o,rootRef:u,contentRef:l});m!=null&&m.rootRef&&(u=m.rootRef),m!=null&&m.contentRef&&(l=m.contentRef),m!=null&&m.propsEnhancers&&(s.push(m.propsEnhancers),Object.keys(m.propsEnhancers).forEach(f=>{i[f]=!0}))});const d=g=>m=>{const f={};return s.forEach(b=>{const h=b[g];h!=null&&Object.assign(f,h(m))}),f},p=Object.fromEntries(Object.keys(i).map(g=>[g,d(g)]));return{contentRef:l,rootRef:u,propsEnhancers:p}},wrapItem:({itemId:o,children:u})=>{let l=u;for(let s=e.length-1;s>=0;s-=1){const i=e[s];i.wrapItem&&(l=i.wrapItem({itemId:o,children:l,instance:t}))}return l},wrapRoot:({children:o})=>{let u=o;for(let l=e.length-1;l>=0;l-=1){const s=e[l];s.wrapRoot&&(u=s.wrapRoot({children:u,instance:t}))}return u},instance:t,rootRef:r,publicAPI:n});function Zt(e){const t=x.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const Ht=({plugins:e,rootRef:t,props:n})=>{const r=[...Wt,...e],{pluginParams:a,forwardedProps:I,apiRef:c,experimentalFeatures:o,slots:u,slotProps:l}=Qt({plugins:r,props:n}),s=zt(r,a),d=x.useRef({}).current,p=Zt(c),g=x.useRef(null),m=le(g,t),f=Yt({plugins:r,instance:d,publicAPI:p,rootRef:g}),[b,h]=x.useState(()=>{const M={};return r.forEach(v=>{v.getInitialState&&Object.assign(M,v.getInitialState(a))}),M}),C=[],S=M=>{const v=M({instance:d,params:a,slots:u,slotProps:l,experimentalFeatures:o,state:b,setState:h,rootRef:g,models:s,plugins:r});v.getRootProps&&C.push(v.getRootProps),v.publicAPI&&Object.assign(p,v.publicAPI),v.instance&&Object.assign(d,v.instance),v.contextValue&&Object.assign(f,v.contextValue)};return r.forEach(S),{getRootProps:(M={})=>{const v=T({role:"tree"},I,M,{ref:m});return C.forEach(j=>{Object.assign(v,j(M))}),v},rootRef:m,contextValue:f,instance:d}},qe=x.createContext(null);function en(e){const{value:t,children:n}=e;return y.jsx(qe.Provider,{value:t,children:t.wrapRoot({children:n})})}const U=()=>{const e=x.useContext(qe);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},We=(e,t,n)=>{e.$$publishEvent(t,n)},L="__TREE_VIEW_ROOT_PARENT_ID__",Ge=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},G=x.createContext(()=>-1),tn=["children"],Qe=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:r})=>{const a={},I={},c={[L]:[]},o=(l,s,i)=>{var m,f;const d=r?r(l):l.id;if(d==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(l)].join(`
`));if(a[d]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${d}"`].join(`
`));const p=n?n(l):l.label;if(p==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(l)].join(`
`));a[d]={id:d,label:p,parentId:i,idAttribute:void 0,expandable:!!((m=l.children)!=null&&m.length),disabled:t?t(l):!1,depth:s},I[d]=l;const g=i??L;c[g]||(c[g]=[]),c[g].push(d),(f=l.children)==null||f.forEach(b=>o(b,s+1,d))};e.forEach(l=>o(l,0,null));const u={};return Object.keys(c).forEach(l=>{u[l]=Ge(c[l])}),{itemMetaMap:a,itemMap:I,itemOrderedChildrenIds:c,itemChildrenIndexes:u}},Y=({instance:e,params:t,state:n,setState:r,experimentalFeatures:a})=>{const I=x.useCallback(b=>n.items.itemMetaMap[b],[n.items.itemMetaMap]),c=x.useCallback(b=>n.items.itemMap[b],[n.items.itemMap]),o=x.useCallback(()=>{const b=h=>{const C=n.items.itemMap[h],S=F(C,tn),E=n.items.itemOrderedChildrenIds[h];return E&&(S.children=E.map(b)),S};return n.items.itemOrderedChildrenIds[L].map(b)},[n.items.itemMap,n.items.itemOrderedChildrenIds]),u=x.useCallback(b=>{if(b==null)return!1;let h=e.getItemMeta(b);if(!h)return!1;if(h.disabled)return!0;for(;h.parentId!=null;)if(h=e.getItemMeta(h.parentId),h.disabled)return!0;return!1},[e]),l=x.useCallback(b=>{const h=e.getItemMeta(b).parentId??L;return n.items.itemChildrenIndexes[h][b]},[e,n.items.itemChildrenIndexes]),s=x.useCallback(b=>n.items.itemOrderedChildrenIds[b??L]??[],[n.items.itemOrderedChildrenIds]),i=b=>{const h=e.getItemMeta(b);return h==null?null:document.getElementById(e.getTreeItemIdAttribute(b,h.idAttribute))},d=b=>t.disabledItemsFocusable?!0:!e.isItemDisabled(b),p=x.useRef(!1),g=x.useCallback(()=>{p.current=!0},[]),m=x.useCallback(()=>p.current,[]);return x.useEffect(()=>{e.areItemUpdatesPrevented()||r(b=>{const h=Qe({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(b.items.itemMetaMap).forEach(C=>{h.itemMetaMap[C.id]||We(e,"removeItem",{id:C.id})}),T({},b,{items:h})})},[e,r,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:c,getItemDOMElement:i,getItemTree:o,getItemOrderedChildrenIds:s},instance:{getItemMeta:I,getItem:c,getItemTree:o,getItemsToRender:()=>{const b=h=>{var S;const C=n.items.itemMetaMap[h];return{label:C.label,itemId:C.id,id:C.idAttribute,children:(S=n.items.itemOrderedChildrenIds[h])==null?void 0:S.map(b)}};return n.items.itemOrderedChildrenIds[L].map(b)},getItemIndex:l,getItemDOMElement:i,getItemOrderedChildrenIds:s,isItemDisabled:u,isItemNavigable:d,preventItemUpdates:g,areItemUpdatesPrevented:m},contextValue:{items:{onItemClick:t.onItemClick,disabledItemsFocusable:t.disabledItemsFocusable,indentationAtItemLevel:a.indentationAtItemLevel??!1}}}};Y.getInitialState=e=>({items:Qe({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});Y.getDefaultizedParams=e=>T({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});Y.wrapRoot=({children:e,instance:t})=>y.jsx(G.Provider,{value:n=>{var r;return((r=t.getItemMeta(n))==null?void 0:r.depth)??0},children:e});Y.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const ae=({instance:e,params:t,models:n})=>{const r=x.useMemo(()=>{const i=new Map;return n.expandedItems.value.forEach(d=>{i.set(d,!0)}),i},[n.expandedItems.value]),a=(i,d)=>{var p;(p=t.onExpandedItemsChange)==null||p.call(t,i,d),n.expandedItems.setControlledValue(d)},I=x.useCallback(i=>r.has(i),[r]),c=x.useCallback(i=>{var d;return!!((d=e.getItemMeta(i))!=null&&d.expandable)},[e]),o=V((i,d)=>{const p=e.isItemExpanded(d);e.setItemExpansion(i,d,!p)}),u=V((i,d,p)=>{if(e.isItemExpanded(d)===p)return;let m;p?m=[d].concat(n.expandedItems.value):m=n.expandedItems.value.filter(f=>f!==d),t.onItemExpansionToggle&&t.onItemExpansionToggle(i,d,p),a(i,m)}),l=(i,d)=>{const p=e.getItemMeta(d),m=e.getItemOrderedChildrenIds(p.parentId).filter(b=>e.isItemExpandable(b)&&!e.isItemExpanded(b)),f=n.expandedItems.value.concat(m);m.length>0&&(t.onItemExpansionToggle&&m.forEach(b=>{t.onItemExpansionToggle(i,b,!0)}),a(i,f))},s=x.useMemo(()=>t.expansionTrigger?t.expansionTrigger:e.isTreeViewEditable?"iconContainer":"content",[t.expansionTrigger,e.isTreeViewEditable]);return{publicAPI:{setItemExpansion:u},instance:{isItemExpanded:I,isItemExpandable:c,setItemExpansion:u,toggleItemExpansion:o,expandAllSiblings:l},contextValue:{expansion:{expansionTrigger:s}}}};ae.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const nn=[];ae.getDefaultizedParams=e=>T({},e,{defaultExpandedItems:e.defaultExpandedItems??nn});ae.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const Ye=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},Ze=(e,t)=>{const n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),a=e.getItemIndex(t);if(a===0)return n.parentId;let I=a-1;for(;!e.isItemNavigable(r[I])&&I>=0;)I-=1;if(I===-1)return n.parentId==null?null:Ze(e,n.parentId);let c=r[I],o=Ye(e,e.getItemOrderedChildrenIds(c));for(;e.isItemExpanded(c)&&o!=null;)c=o,o=e.getItemOrderedChildrenIds(c).find(e.isItemNavigable);return c},oe=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(r!=null)return r}let n=e.getItemMeta(t);for(;n!=null;){const r=e.getItemOrderedChildrenIds(n.parentId),a=e.getItemIndex(n.id);if(a<r.length-1){let I=a+1;for(;!e.isItemNavigable(r[I])&&I<r.length-1;)I+=1;if(e.isItemNavigable(r[I]))return r[I]}n=e.getItemMeta(n.parentId)}return null},He=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),r=Ye(e,n);if(r==null)return t;t=r}return t},Q=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),et=(e,t,n)=>{if(t===n)return[t,n];const r=e.getItemMeta(t),a=e.getItemMeta(n);if(r.parentId===a.id||a.parentId===r.id)return a.parentId===r.id?[r.id,a.id]:[a.id,r.id];const I=[r.id],c=[a.id];let o=r.parentId,u=a.parentId,l=c.indexOf(o)!==-1,s=I.indexOf(u)!==-1,i=!0,d=!0;for(;!s&&!l;)i&&(I.push(o),l=c.indexOf(o)!==-1,i=o!==null,!l&&i&&(o=e.getItemMeta(o).parentId)),d&&!l&&(c.push(u),s=I.indexOf(u)!==-1,d=u!==null,!s&&d&&(u=e.getItemMeta(u).parentId));const p=l?o:u,g=e.getItemOrderedChildrenIds(p),m=I[I.indexOf(p)-1],f=c[c.indexOf(p)-1];return g.indexOf(m)<g.indexOf(f)?[t,n]:[n,t]},rn=(e,t,n)=>{const r=u=>{if(e.isItemExpandable(u)&&e.isItemExpanded(u))return e.getItemOrderedChildrenIds(u)[0];let l=e.getItemMeta(u);for(;l!=null;){const s=e.getItemOrderedChildrenIds(l.parentId),i=e.getItemIndex(l.id);if(i<s.length-1)return s[i+1];l=e.getItemMeta(l.parentId)}throw new Error("Invalid range")},[a,I]=et(e,t,n),c=[a];let o=a;for(;o!==I;)o=r(o),e.isItemDisabled(o)||c.push(o);return c},on=e=>{let t=Q(e);const n=[];for(;t!=null;)n.push(t),t=oe(e,t);return n},Te=(e,t)=>t!==e.closest('*[role="treeitem"]'),se=e=>Array.isArray(e)?e:e!=null?[e]:[],xe=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},ce=({instance:e,params:t,models:n})=>{const r=x.useRef(null),a=x.useRef({}),I=x.useMemo(()=>{const m=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(f=>{m.set(f,!0)}):n.selectedItems.value!=null&&m.set(n.selectedItems.value,!0),m},[n.selectedItems.value]),c=(m,f)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const b=f.filter(C=>!e.isItemSelected(C)),h=n.selectedItems.value.filter(C=>!f.includes(C));b.forEach(C=>{t.onItemSelectionToggle(m,C,!0)}),h.forEach(C=>{t.onItemSelectionToggle(m,C,!1)})}else f!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(m,n.selectedItems.value,!1),f!=null&&t.onItemSelectionToggle(m,f,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(m,f),n.selectedItems.setControlledValue(f)},o=m=>I.has(m),u=({event:m,itemId:f,keepExistingSelection:b=!1,shouldBeSelected:h})=>{if(t.disableSelection)return;let C;if(b){const S=se(n.selectedItems.value),E=e.isItemSelected(f);E&&(h===!1||h==null)?C=S.filter(M=>M!==f):!E&&(h===!0||h==null)?C=[f].concat(S):C=S}else h===!1||h==null&&e.isItemSelected(f)?C=t.multiSelect?[]:null:C=t.multiSelect?[f]:f;c(m,C),r.current=f,a.current={}},l=(m,[f,b])=>{if(t.disableSelection||!t.multiSelect)return;let h=se(n.selectedItems.value).slice();Object.keys(a.current).length>0&&(h=h.filter(M=>!a.current[M]));const C=xe(h),S=rn(e,f,b),E=S.filter(M=>!C[M]);h=h.concat(E),c(m,h),a.current=xe(S)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{selectItem:u},instance:{isItemSelected:o,selectItem:u,selectAllNavigableItems:m=>{if(t.disableSelection||!t.multiSelect)return;const f=on(e);c(m,f),a.current=xe(f)},expandSelectionRange:(m,f)=>{if(r.current!=null){const[b,h]=et(e,f,r.current);l(m,[b,h])}},selectRangeFromStartToItem:(m,f)=>{l(m,[Q(e),f])},selectRangeFromItemToEnd:(m,f)=>{l(m,[f,He(e)])},selectItemFromArrowNavigation:(m,f,b)=>{if(t.disableSelection||!t.multiSelect)return;let h=se(n.selectedItems.value).slice();Object.keys(a.current).length===0?(h.push(b),a.current={[f]:!0,[b]:!0}):(a.current[f]||(a.current={}),a.current[b]?(h=h.filter(C=>C!==f),delete a.current[f]):(h.push(b),a.current[b]=!0)),c(m,h)}},contextValue:{selection:{multiSelect:t.multiSelect,checkboxSelection:t.checkboxSelection,disableSelection:t.disableSelection}}}};ce.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const sn=[];ce.getDefaultizedParams=e=>T({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?sn:null)});ce.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const je=1e3;class ln{constructor(t=je){this.timeouts=new Map,this.cleanupTimeout=je,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const a=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,a)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class an{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class cn{}function un(e){let t=0;return function(r,a,I){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new an:new ln);const[c]=x.useState(new cn),o=x.useRef(null),u=x.useRef();u.current=I;const l=x.useRef(null);if(!o.current&&u.current){const s=(i,d)=>{var p;d.defaultMuiPrevented||(p=u.current)==null||p.call(u,i,d)};o.current=r.$$subscribeEvent(a,s),t+=1,l.current={cleanupToken:t},e.registry.register(c,()=>{var i;(i=o.current)==null||i.call(o),o.current=null,l.current=null},l.current)}else!u.current&&o.current&&(o.current(),o.current=null,l.current&&(e.registry.unregister(l.current),l.current=null));x.useEffect(()=>{if(!o.current&&u.current){const s=(i,d)=>{var p;d.defaultMuiPrevented||(p=u.current)==null||p.call(u,i,d)};o.current=r.$$subscribeEvent(a,s)}return l.current&&e.registry&&(e.registry.unregister(l.current),l.current=null),()=>{var s;(s=o.current)==null||s.call(o),o.current=null}},[r,a])}}const dn={registry:null},pn=un(dn),tt=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?tt(t.shadowRoot):t:null};function mn(e){return e.replace(/["\\]/g,"\\$&")}const In=(e,t)=>{let n=se(t).find(r=>{if(!e.isItemNavigable(r))return!1;const a=e.getItemMeta(r);return a&&(a.parentId==null||e.isItemExpanded(a.parentId))});return n==null&&(n=Q(e)),n},ye=({instance:e,params:t,state:n,setState:r,models:a,rootRef:I})=>{const c=In(e,a.selectedItems.value),o=V(f=>{const b=typeof f=="function"?f(n.focusedItemId):f;n.focusedItemId!==b&&r(h=>T({},h,{focusedItemId:b}))}),u=x.useCallback(()=>!!I.current&&I.current.contains(tt(Vt(I.current))),[I]),l=x.useCallback(f=>n.focusedItemId===f&&u(),[n.focusedItemId,u]),s=f=>{const b=e.getItemMeta(f);return b&&(b.parentId==null||e.isItemExpanded(b.parentId))},i=(f,b)=>{const h=e.getItemDOMElement(b);h&&h.focus(),o(b),t.onItemFocus&&t.onItemFocus(f,b)},d=V((f,b)=>{s(b)&&i(f,b)}),p=V(()=>{if(n.focusedItemId==null)return;const f=e.getItemMeta(n.focusedItemId);if(f){const b=document.getElementById(e.getTreeItemIdAttribute(n.focusedItemId,f.idAttribute));b&&b.blur()}o(null)}),g=f=>f===c;pn(e,"removeItem",({id:f})=>{n.focusedItemId===f&&i(null,c)});const m=f=>b=>{var h;(h=f.onFocus)==null||h.call(f,b),!b.defaultMuiPrevented&&b.target===b.currentTarget&&i(b,c)};return{getRootProps:f=>({onFocus:m(f)}),publicAPI:{focusItem:d},instance:{isItemFocused:l,canItemBeTabbed:g,focusItem:d,removeFocusedItem:p}}};ye.getInitialState=()=>({focusedItemId:null});ye.params={onItemFocus:!0};const ie=(e,t)=>e.getAvailablePlugins().has(t),fn=({props:e})=>{const{instance:t}=U(),{label:n,itemId:r}=e,[a,I]=x.useState(n),c=t.isItemBeingEdited(r);return x.useEffect(()=>{c||I(n)},[c,n]),{propsEnhancers:{labelInput:({externalEventHandlers:o,interactions:u})=>t.isItemEditable(r)?{value:a??"","data-element":"labelInput",onChange:p=>{var g;(g=o.onChange)==null||g.call(o,p),I(p.target.value)},onKeyDown:p=>{var m;if((m=o.onKeyDown)==null||m.call(o,p),p.defaultMuiPrevented)return;const g=p.target;p.key==="Enter"&&g.value?u.handleSaveItemLabel(p,g.value):p.key==="Escape"&&u.handleCancelItemLabelEditing(p)},onBlur:p=>{var g;(g=o.onBlur)==null||g.call(o,p),!p.defaultMuiPrevented&&p.target.value&&u.handleSaveItemLabel(p,p.target.value)},autoFocus:!0,type:"text"}:{}}}},$=({instance:e,state:t,setState:n,params:r,experimentalFeatures:a})=>{const I=x.useRef(t.editedItemId),c=d=>I.current===d,o=d=>{n(p=>T({},p,{editedItemId:d})),I.current=d},u=d=>d===t.editedItemId,l=!!r.isItemEditable&&!!a.labelEditing,s=d=>{if(d==null||!l)return!1;const p=e.getItem(d);return p?typeof r.isItemEditable=="function"?r.isItemEditable(p):!!r.isItemEditable:!1},i=(d,p)=>{if(!p)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",d].join(`
`));n(g=>{const m=g.items.itemMetaMap[d];return m.label!==p?T({},g,{items:T({},g.items,{itemMetaMap:T({},g.items.itemMetaMap,{[d]:T({},m,{label:p})})})}):g}),r.onItemLabelChange&&r.onItemLabelChange(d,p)};return{instance:{setEditedItemId:o,isItemBeingEdited:u,updateItemLabel:i,isItemEditable:s,isTreeViewEditable:l,isItemBeingEditedRef:c},publicAPI:{updateItemLabel:i}}};$.itemPlugin=fn;$.getInitialState=()=>({editedItemId:null});$.params={onItemLabelChange:!0,isItemEditable:!0};function gn(e){return!!e&&e.length===1&&!!e.match(/\S/)}const nt=({instance:e,params:t,state:n})=>{const r=jt(),a=x.useRef({}),I=V(s=>{a.current=s(a.current)});x.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const s={},i=d=>{s[d.id]=d.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(i),a.current=s},[n.items.itemMetaMap,t.getItemId,e]);const c=(s,i)=>{const d=i.toLowerCase(),p=b=>{const h=oe(e,b);return h===null?Q(e):h};let g=null,m=p(s);const f={};for(;g==null&&!f[m];)a.current[m]===d?g=m:(f[m]=!0,m=p(m));return g},o=s=>!t.disableSelection&&!e.isItemDisabled(s),u=s=>!e.isItemDisabled(s)&&e.isItemExpandable(s);return{instance:{updateFirstCharMap:I,handleItemKeyDown:(s,i)=>{if(s.defaultMuiPrevented||s.altKey||Te(s.target,s.currentTarget))return;const d=s.ctrlKey||s.metaKey,p=s.key;switch(!0){case(p===" "&&o(i)):{s.preventDefault(),t.multiSelect&&s.shiftKey?e.expandSelectionRange(s,i):e.selectItem({event:s,itemId:i,keepExistingSelection:t.multiSelect,shouldBeSelected:t.multiSelect?void 0:!0});break}case p==="Enter":{ie(e,$)&&e.isItemEditable(i)&&!e.isItemBeingEdited(i)?e.setEditedItemId(i):u(i)?(e.toggleItemExpansion(s,i),s.preventDefault()):o(i)&&(t.multiSelect?(s.preventDefault(),e.selectItem({event:s,itemId:i,keepExistingSelection:!0})):e.isItemSelected(i)||(e.selectItem({event:s,itemId:i}),s.preventDefault()));break}case p==="ArrowDown":{const g=oe(e,i);g&&(s.preventDefault(),e.focusItem(s,g),t.multiSelect&&s.shiftKey&&o(g)&&e.selectItemFromArrowNavigation(s,i,g));break}case p==="ArrowUp":{const g=Ze(e,i);g&&(s.preventDefault(),e.focusItem(s,g),t.multiSelect&&s.shiftKey&&o(g)&&e.selectItemFromArrowNavigation(s,i,g));break}case(p==="ArrowRight"&&!r||p==="ArrowLeft"&&r):{if(e.isItemExpanded(i)){const g=oe(e,i);g&&(e.focusItem(s,g),s.preventDefault())}else u(i)&&(e.toggleItemExpansion(s,i),s.preventDefault());break}case(p==="ArrowLeft"&&!r||p==="ArrowRight"&&r):{if(u(i)&&e.isItemExpanded(i))e.toggleItemExpansion(s,i),s.preventDefault();else{const g=e.getItemMeta(i).parentId;g&&(e.focusItem(s,g),s.preventDefault())}break}case p==="Home":{o(i)&&t.multiSelect&&d&&s.shiftKey?e.selectRangeFromStartToItem(s,i):e.focusItem(s,Q(e)),s.preventDefault();break}case p==="End":{o(i)&&t.multiSelect&&d&&s.shiftKey?e.selectRangeFromItemToEnd(s,i):e.focusItem(s,He(e)),s.preventDefault();break}case p==="*":{e.expandAllSiblings(s,i),s.preventDefault();break}case(p==="a"&&d&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(s),s.preventDefault();break}case(!d&&!s.shiftKey&&gn(p)):{const g=c(i,p);g!=null&&(e.focusItem(s,g),s.preventDefault());break}}}}}};nt.params={};const rt=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});rt.params={};const ot=x.createContext(null);function st(e){const{children:t,itemId:n=null}=e,{instance:r,rootRef:a}=U(),I=x.useRef(new Map);x.useEffect(()=>{if(!a.current)return;let o=null;if(n==null)o=a.current.id;else{const p=r.getItemMeta(n);p!==void 0&&(o=r.getTreeItemIdAttribute(n,p.idAttribute))}if(o==null)return;const u=r.getItemOrderedChildrenIds(n??null)??[],l=mn(o),s=a.current.querySelectorAll(`${n==null?"":`*[id="${l}"] `}[role="treeitem"]:not(*[id="${l}"] [role="treeitem"] [role="treeitem"])`),i=Array.from(s).map(p=>I.current.get(p.id));(i.length!==u.length||i.some((p,g)=>p!==u[g]))&&r.setJSXItemsOrderedChildrenIds(n??null,i)});const c=x.useMemo(()=>({registerChild:(o,u)=>I.current.set(o,u),unregisterChild:o=>I.current.delete(o),parentId:n}),[n]);return y.jsx(ot.Provider,{value:c,children:t})}const Z=({instance:e,setState:t})=>{e.preventItemUpdates();const n=V(I=>(t(c=>{if(c.items.itemMetaMap[I.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${I.id}"`].join(`
`));return T({},c,{items:T({},c.items,{itemMetaMap:T({},c.items.itemMetaMap,{[I.id]:I}),itemMap:T({},c.items.itemMap,{[I.id]:{id:I.id,label:I.label}})})})}),()=>{t(c=>{const o=T({},c.items.itemMetaMap),u=T({},c.items.itemMap);return delete o[I.id],delete u[I.id],T({},c,{items:T({},c.items,{itemMetaMap:o,itemMap:u})})}),We(e,"removeItem",{id:I.id})})),r=(I,c)=>{const o=I??L;t(u=>T({},u,{items:T({},u.items,{itemOrderedChildrenIds:T({},u.items.itemOrderedChildrenIds,{[o]:c}),itemChildrenIndexes:T({},u.items.itemChildrenIndexes,{[o]:Ge(c)})})}))},a=V((I,c)=>(e.updateFirstCharMap(o=>(o[I]=c,o)),()=>{e.updateFirstCharMap(o=>{const u=T({},o);return delete u[I],u})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:a}}},it=e=>Array.isArray(e)?e.length>0&&e.some(it):!!e,bn=({props:e,rootRef:t,contentRef:n})=>{const{instance:r}=U(),{children:a,disabled:I=!1,label:c,itemId:o,id:u}=e,l=x.useContext(ot);if(l==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:s,unregisterChild:i,parentId:d}=l,p=it(a),g=x.useRef(null),m=le(g,n);return Ft(()=>{const f=r.getTreeItemIdAttribute(o,u);return s(f,o),()=>{i(f)}},[r,s,i,o,u]),x.useEffect(()=>r.insertJSXItem({id:o,idAttribute:u,parentId:d,expandable:p,disabled:I}),[r,d,o,p,I,u]),x.useEffect(()=>{var f;if(c)return r.mapFirstCharFromJSX(o,(((f=g.current)==null?void 0:f.textContent)??"").substring(0,1).toLowerCase())},[r,o,c]),{contentRef:m,rootRef:t}};Z.itemPlugin=bn;Z.wrapItem=({children:e,itemId:t})=>{const n=x.useContext(G);return y.jsx(st,{itemId:t,children:y.jsx(G.Provider,{value:n+1,children:e})})};Z.wrapRoot=({children:e})=>y.jsx(st,{children:y.jsx(G.Provider,{value:0,children:e})});Z.params={};const hn=[Y,ae,ce,ye,nt,rt,Z],xn=Ue(),Tn=e=>{const{classes:t}=e;return $e({root:["root"]},Xt,t)},yn=K("ul",{name:"MuiSimpleTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),En=[],Cn=x.forwardRef(function(t,n){const r=xn({props:t,name:"MuiSimpleTreeView"}),a=r,{getRootProps:I,contextValue:c}=Ht({plugins:hn,rootRef:n,props:T({},r,{items:En})}),{slots:o,slotProps:u}=r,l=Tn(r),s=(o==null?void 0:o.root)??yn,i=W({elementType:s,externalSlotProps:u==null?void 0:u.root,className:l.root,getSlotProps:I,ownerState:a});return y.jsx(en,{value:c,children:y.jsx(s,T({},i))})});function lt(e){const{instance:t,items:{onItemClick:n},selection:{multiSelect:r,checkboxSelection:a,disableSelection:I},expansion:{expansionTrigger:c}}=U(),o=t.isItemExpandable(e),u=t.isItemExpanded(e),l=t.isItemFocused(e),s=t.isItemSelected(e),i=t.isItemDisabled(e),d=t!=null&&t.isItemBeingEdited?t==null?void 0:t.isItemBeingEdited(e):!1,p=t.isItemEditable?t.isItemEditable(e):!1,g=E=>{if(!i){l||t.focusItem(E,e);const M=r&&(E.shiftKey||E.ctrlKey||E.metaKey);o&&!(M&&t.isItemExpanded(e))&&t.toggleItemExpansion(E,e)}},m=E=>{i||(l||t.focusItem(E,e),r&&(E.shiftKey||E.ctrlKey||E.metaKey)?E.shiftKey?t.expandSelectionRange(E,e):t.selectItem({event:E,itemId:e,keepExistingSelection:!0}):t.selectItem({event:E,itemId:e,shouldBeSelected:!0}))},f=E=>{if(I||i)return;const M=E.nativeEvent.shiftKey;r&&M?t.expandSelectionRange(E,e):t.selectItem({event:E,itemId:e,keepExistingSelection:r,shouldBeSelected:E.target.checked})},b=E=>{(E.shiftKey||E.ctrlKey||E.metaKey||i)&&E.preventDefault()},h=()=>{ie(t,$)&&t.isItemEditable(e)&&(t.isItemBeingEdited(e)?t.setEditedItemId(null):t.setEditedItemId(e))};return{disabled:i,expanded:u,selected:s,focused:l,editable:p,editing:d,disableSelection:I,checkboxSelection:a,handleExpansion:g,handleSelection:m,handleCheckboxSelection:f,handleContentClick:n,preventSelection:b,expansionTrigger:c,toggleItemEditing:h,handleSaveItemLabel:(E,M)=>{ie(t,$)&&t.isItemBeingEditedRef(e)&&(t.updateItemLabel(e,M),h(),t.focusItem(E,e))},handleCancelItemLabelEditing:E=>{ie(t,$)&&t.isItemBeingEditedRef(e)&&(h(),t.focusItem(E,e))}}}const wn=K("div",{name:"MuiTreeItem2DragAndDropOverlay",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Lt(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:A((e.vars||e).palette.primary.dark,.15)}},{props:{action:"reorder-above"},style:T({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderTopColor:A((e.vars||e).palette.grey[100],.6)}))},{props:{action:"reorder-below"},style:T({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderBottomColor:A((e.vars||e).palette.grey[100],.6)}))},{props:{action:"move-to-parent"},style:T({marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderBottomColor:A((e.vars||e).palette.grey[900],.6)}))}]}));function Mn(e){return e.action==null?null:y.jsx(wn,T({},e))}const Sn=K("input",{name:"MuiTreeItem2",slot:"LabelInput",overridesResolver:(e,t)=>t.labelInput})(({theme:e})=>T({},e.typography.body1,{width:"100%",backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${e.palette.primary.main}`}})),vn=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown","dragAndDropOverlayProps","labelInputProps"],at=x.forwardRef(function(t,n){const{classes:r,className:a,displayIcon:I,expansionIcon:c,icon:o,label:u,itemId:l,onClick:s,onMouseDown:i,dragAndDropOverlayProps:d,labelInputProps:p}=t,g=F(t,vn),{disabled:m,expanded:f,selected:b,focused:h,editing:C,editable:S,disableSelection:E,checkboxSelection:M,handleExpansion:v,handleSelection:j,handleCheckboxSelection:_,handleContentClick:O,preventSelection:H,expansionTrigger:X,toggleItemEditing:z}=lt(l),ue=o||c||I,ee=x.useRef(null),de=k=>{H(k),i&&i(k)},pe=k=>{var P;O==null||O(k,l),!((P=ee.current)!=null&&P.contains(k.target))&&(X==="content"&&v(k),M||j(k),s&&s(k))},me=k=>{k.defaultMuiPrevented||z()};return y.jsxs("div",T({},g,{className:_e(a,r.root,f&&r.expanded,b&&r.selected,h&&r.focused,m&&r.disabled,C&&r.editing,S&&r.editable),onClick:pe,onMouseDown:de,ref:n,children:[y.jsx("div",{className:r.iconContainer,children:ue}),M&&y.jsx(Ke,{className:r.checkbox,checked:b,onChange:_,disabled:m||E,ref:ee,tabIndex:-1}),C?y.jsx(Sn,T({},p,{className:r.labelInput})):y.jsx("div",T({className:r.label},S&&{onDoubleClick:me},{children:u})),d&&y.jsx(Mn,T({},d))]}))});function Pn(e){return Le("MuiTreeItem",e)}const D=Fe("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label","checkbox","labelInput","editable","editing","dragAndDropOverlay"]),Rn=Ne(y.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),kn=Ne(y.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function ct(e){const{children:t,itemId:n}=e,{wrapItem:r,instance:a}=U();return r({children:t,itemId:n,instance:a})}ct.propTypes={children:De.node,itemId:De.string.isRequired};const An=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],On=["ownerState"],Dn=["ownerState"],Vn=["ownerState"],jn=Ue(),Fn=e=>{const{classes:t}=e;return $e({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],labelInput:["labelInput"],editing:["editing"],editable:["editable"],groupTransition:["groupTransition"]},Pn,t)},Ln=K("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),$n=K(at,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${D.iconContainer}`]:t.iconContainer},t.label&&{[`& .${D.label}`]:t.label}],shouldForwardProp:e=>Be(e)&&e!=="indentationAtItemLevel"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${D.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${D.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${D.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${D.label}`]:T({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1),[`& .${D.checkbox}`]:{padding:0},variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`}}]})),_n=K($t,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition,shouldForwardProp:e=>Be(e)&&e!=="indentationAtItemLevel"})({margin:0,padding:0,paddingLeft:"var(--TreeView-itemChildrenIndentation)",variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:0}}]}),Nn=x.forwardRef(function(t,n){var ve,Pe,Re,ke;const{icons:r,runItemPlugins:a,items:{disabledItemsFocusable:I,indentationAtItemLevel:c},selection:{multiSelect:o},expansion:{expansionTrigger:u},instance:l}=U(),s=x.useContext(G),i=jn({props:t,name:"MuiTreeItem"}),{children:d,className:p,slots:g,slotProps:m,ContentComponent:f=at,ContentProps:b,itemId:h,id:C,label:S,onClick:E,onMouseDown:M,onBlur:v,onKeyDown:j}=i,_=F(i,An),{expanded:O,focused:H,selected:X,disabled:z,editing:ue,handleExpansion:ee,handleCancelItemLabelEditing:de,handleSaveItemLabel:pe}=lt(h),{contentRef:me,rootRef:k,propsEnhancers:P}=a(i),te=x.useRef(null),Ee=x.useRef(null),ut=le(n,k,te),dt=le(b==null?void 0:b.ref,me,Ee),J={expandIcon:(g==null?void 0:g.expandIcon)??r.slots.expandIcon??Rn,collapseIcon:(g==null?void 0:g.collapseIcon)??r.slots.collapseIcon??kn,endIcon:(g==null?void 0:g.endIcon)??r.slots.endIcon,icon:g==null?void 0:g.icon,groupTransition:g==null?void 0:g.groupTransition},Ce=w=>Array.isArray(w)?w.length>0&&w.some(Ce):!!w,ne=Ce(d),Ie=T({},i,{expanded:O,focused:H,selected:X,disabled:z,indentationAtItemLevel:c}),R=Fn(Ie),we=J.groupTransition??void 0,pt=W({elementType:we,ownerState:{},externalSlotProps:m==null?void 0:m.groupTransition,additionalProps:T({unmountOnExit:!0,in:O,component:"ul",role:"group"},c?{indentationAtItemLevel:!0}:{}),className:R.groupTransition}),mt=w=>{u==="iconContainer"&&ee(w)},fe=O?J.collapseIcon:J.expandIcon,It=W({elementType:fe,ownerState:{},externalSlotProps:w=>O?T({},B(r.slotProps.collapseIcon,w),B(m==null?void 0:m.collapseIcon,w)):T({},B(r.slotProps.expandIcon,w),B(m==null?void 0:m.expandIcon,w)),additionalProps:{onClick:mt}}),ft=F(It,On),gt=ne&&fe?y.jsx(fe,T({},ft)):null,ge=ne?void 0:J.endIcon,bt=W({elementType:ge,ownerState:{},externalSlotProps:w=>ne?{}:T({},B(r.slotProps.endIcon,w),B(m==null?void 0:m.endIcon,w))}),ht=F(bt,Dn),xt=ge?y.jsx(ge,T({},ht)):null,be=J.icon,Tt=W({elementType:be,ownerState:{},externalSlotProps:m==null?void 0:m.icon}),yt=F(Tt,Vn),Et=be?y.jsx(be,T({},yt)):null;let he;o?he=X:X&&(he=!0);function Ct(w){!H&&(!z||I)&&w.currentTarget===w.target&&l.focusItem(w,h)}function wt(w){var N,q,Ae,Oe;v==null||v(w),!(ue||w.relatedTarget&&Te(w.relatedTarget,te.current)&&(w.target&&((q=(N=w.target)==null?void 0:N.dataset)==null?void 0:q.element)==="labelInput"&&Te(w.target,te.current)||((Oe=(Ae=w.relatedTarget)==null?void 0:Ae.dataset)==null?void 0:Oe.element)==="labelInput"))&&l.removeFocusedItem()}const Mt=w=>{var N,q;j==null||j(w),((q=(N=w.target)==null?void 0:N.dataset)==null?void 0:q.element)!=="labelInput"&&l.handleItemKeyDown(w,h)},St=l.getTreeItemIdAttribute(h,C),vt=l.canItemBeTabbed(h)?0:-1,re={rootRefObject:te,contentRefObject:Ee,interactions:{handleSaveItemLabel:pe,handleCancelItemLabelEditing:de}},Pt=((ve=P.root)==null?void 0:ve.call(P,T({},re,{externalEventHandlers:Ve(_)})))??{},Rt=((Pe=P.content)==null?void 0:Pe.call(P,T({},re,{externalEventHandlers:Ve(b)})))??{},Me=((Re=P.dragAndDropOverlay)==null?void 0:Re.call(P,T({},re,{externalEventHandlers:{}})))??{},Se=((ke=P.labelInput)==null?void 0:ke.call(P,T({},re,{externalEventHandlers:{}})))??{};return y.jsx(ct,{itemId:h,children:y.jsxs(Ln,T({className:_e(R.root,p),role:"treeitem","aria-expanded":ne?O:void 0,"aria-selected":he,"aria-disabled":z||void 0,id:St,tabIndex:vt},_,{ownerState:Ie,onFocus:Ct,onBlur:wt,onKeyDown:Mt,ref:ut,style:c?T({},_.style,{"--TreeView-itemDepth":typeof s=="function"?s(h):s}):_.style},Pt,{children:[y.jsx($n,T({as:f,classes:{root:R.content,expanded:R.expanded,selected:R.selected,focused:R.focused,disabled:R.disabled,editable:R.editable,editing:R.editing,iconContainer:R.iconContainer,label:R.label,labelInput:R.labelInput,checkbox:R.checkbox},label:S,itemId:h,onClick:E,onMouseDown:M,icon:Et,expansionIcon:gt,displayIcon:xt,ownerState:Ie},b,Rt,Me.action==null?{}:{dragAndDropOverlayProps:Me},Se.value==null?{}:{labelInputProps:Se},{ref:dt})),d&&y.jsx(_n,T({as:we},pt,{children:d}))]}))})}),Bn=({team:e,onSave:t,onCancel:n})=>{const r=localStorage.getItem("menu-items"),[a,I]=x.useState(r?JSON.parse(r):[]),c=()=>{t({...e,authority:a})},o=(l,s)=>{I(i=>{const d=new Set(i),p=(m,f)=>{m.forEach(b=>{f?d.add(b.id):d.delete(b.id),Array.isArray(b.children)&&p(b.children,f)})},g=!d.has(l);return g?d.add(l):d.delete(l),p(s,g),Array.from(d)})},u=l=>y.jsx(Nn,{nodeid:l.id,itemId:l.id,label:y.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[y.jsx(Ke,{checked:a.includes(l.id),onChange:()=>o(l.id,l.children||[]),size:"small",style:{marginRight:8}}),l.title," "]}),children:Array.isArray(l.children)?l.children.map(u):null},l.id);return y.jsxs("div",{children:[y.jsxs("div",{children:[y.jsx("h2",{children:"Menu Settings"}),y.jsxs(Cn,{expansionTrigger:"iconContainer",children:[_t.items.map(u)," "]})]}),y.jsx("button",{onClick:c,children:"Save"}),y.jsx("button",{onClick:n,children:"Cancel"})]})},Kn=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[a,I]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const i=await(await fetch("https://backendapi.my.id/api/masterTim/get_tim")).json();i.success&&t(i.data)}catch(s){console.error("Failed to fetch teams:",s)}})()},[]);const c=l=>{r(l),console.log(l,"team"),I(!0)},o=async l=>{console.log("Edited team:",l);try{const i=await(await fetch(`https://backendapi.my.id/api/masterTim/update/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name,authority:JSON.stringify(l.authority)})})).json();i.success?(console.log("Updated team:",l),t(d=>d.map(p=>p.id===l.id?l:p)),r(null),I(!1)):console.error("Failed to update team:",i.message)}catch(s){console.error("Error updating team:",s)}},u=[{name:"ID",selector:l=>l.id,sortable:!0},{name:"Name",selector:l=>l.name,sortable:!0},{name:"Actions",cell:l=>y.jsx(Nt,{variant:"outlined",onClick:()=>c(l),style:{marginRight:"10px"},startIcon:y.jsx(Kt,{}),children:"Edit"})}];return y.jsxs("div",{children:[y.jsx(Bt,{title:"Teams Data Table",columns:u,data:e,pagination:!0}),n&&y.jsx(Bn,{team:n,onSave:o,onCancel:()=>r(null)})]})},qn=()=>y.jsxs("div",{children:[y.jsx("h1",{children:"Teams Overview"}),y.jsx(Kn,{})]});export{qn as default};
